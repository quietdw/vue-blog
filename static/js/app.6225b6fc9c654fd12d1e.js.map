{"version":3,"sources":["webpack:///./src/store/modules/auth.js","webpack:///./src/store/index.js","webpack:///./src/store/modules/blog.js","webpack:///src/components/header.vue","webpack:///./src/components/header.vue?20c7","webpack:///./src/components/header.vue","webpack:///./src/components/footer.vue?060e","webpack:///./src/components/footer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?35e9","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/helpers/utils.js","webpack:///./src/main.js","webpack:///./src/api/auth.js","webpack:///./src/helpers/request.js"],"names":["modules_auth","state","user","isLogin","getters","mutations","setUser","payLoad","setLogin","actions","login","_ref","_ref2","commit","username","password","auth","then","res","data","register","_ref3","_ref4","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","abrupt","stop","logout","_ref5","_this2","_callee2","_context2","checkLogin","_ref6","_this3","_callee3","_context3","getInfo","Vue","use","Vuex","__webpack_exports__","Store","modules","blog","header","created","computed","extends_default","Object","vuex_esm","methods","onLogout","components_header","render","_vm","_h","$createElement","_c","_self","class","nologin","_e","attrs","to","_v","staticClass","aria-hidden","xlink:href","src","avatar","alt","href","on","click","staticRenderFns","footer","App","name","components","Header","__webpack_require__","normalizeComponent","ssrContext","Footer","footer_normalizeComponent","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","Router","router","routes","path","component","Promise","all","e","bind","meta","requiresAuth","beforeEach","from","matched","some","record","store","dispatch","query","redirect","fullPath","friendlyDate","timedata","time","typeof_default","Date","delta","getTime","Math","floor","getDate","style","getFullYear","getMonth","utils","install","options","prototype","config","productionTip","ElementUI","el","template","__WEBPACK_IMPORTED_MODULE_0__helpers_request_js__","URL","request","url","type","arguments","length","undefined","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","option","method","toLocaleLowerCase","params","axios","status","Message","error","msg","catch","defaults","headers","post","baseURL","withCredentials"],"mappings":"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","file":"static/js/app.6225b6fc9c654fd12d1e.js","sourcesContent":["/* eslint-disable */ \nimport auth from '@/api/auth'\n\nconst state= {\n    // 用户的信息\n    user:null,\n    isLogin:false\n}\nconst getters= {\n    user:state => state.user,\n    isLogin:state => state.isLogin\n}\nconst mutations= {\n    //对数据state的操作\n    setUser(state, payLoad){\n        state.user = payLoad.user\n    },\n\n    setLogin(state,payLoad){\n        state.isLogin = payLoad.isLogin\n    }\n}\nconst actions= {\n    login({commit},{username,password}){\n        return auth.login({username,password}) // 登陆成功后执行下面的commit\n            .then( res => {\n                commit('setUser',{user:res.data})\n                commit('setLogin',{isLogin:true})\n            })\n    },\n    // 写法和上面的形式一样\n    async register({commit},{username,password}) {\n        let res = await auth.register({username,password}) // then 的结果\n        commit('setUser',{user:res.data})\n        commit('setLogin',{isLogin:true})\n        return res.data\n    },\n\n    async logout({commit}){\n        await auth.logout()\n        commit('setUser',{user:null})\n        commit('setLogin',{isLogin:false})\n    },\n\n    async checkLogin({commit, state}) { //返回的是一个promise对象\n        if(state.isLogin) return true   \n        let res = await auth.getInfo()\n        commit('setLogin',{isLogin: res.isLogin})\n        if(!res.isLogin) return false;\n        commit('setUser',{user:res.data})\n        return true\n    }\n    \n}\nexport default {\n    state,\n    getters,\n    mutations,\n    actions\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/auth.js","/* eslint-disable */ \nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport auth from './modules/auth'\nimport blog from './modules/blog'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    modules:{\n        auth,\n        blog\n    }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","/* eslint-disable */ \nexport default {\n    state:{},\n    getters:{},\n    mutations:{},\n    actions:{}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/blog.js","<template>\n  <header :class=\"{login:isLogin,nologin:!isLogin}\">\n    <template v-if=\"!isLogin\">\n      <h1>\n        <router-link to=\"/\">Build better together</router-link>\n      </h1>\n      <div class=\"btns\">\n        <router-link to=\"/login\">\n          <el-button>Sign in</el-button>\n        </router-link>\n        <router-link to=\"/register\">\n          <el-button>Sign up</el-button>\n        </router-link>\n      </div>\n    </template>\n    <template v-if=\"isLogin\">\n      <h1>\n        <router-link to=\"/\">Build better together</router-link>\n      </h1>\n      <router-link to=\"/create\">\n        <svg class=\"icon\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-zengjia\"></use>\n        </svg>\n      </router-link>\n      <div class=\"user\">\n        <img :src=\"user.avatar\" :alt=\"user.username\">\n        <ul>\n          <li>\n            <router-link to=\"/my\">我的</router-link>\n          </li>\n          <li>\n            <a href=\"#\" @click=\"onLogout\">注销</a>\n          </li>\n        </ul>\n      </div>\n    </template>\n  </header>\n</template>\n\n<script>\n/* eslint-disable */\n\n//获取vuex里的数据\nimport auth from \"../api/auth\";\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {};\n  },\n  created() {\n    // 生命周期，数据OK，模板还未渲染，比如ajax获取数据\n    this.checkLogin();\n  },\n  computed: {\n    ...mapGetters([\"user\", \"isLogin\"])\n  },\n  methods: {\n    ...mapActions([\"checkLogin\", \"logout\"]),\n    onLogout() {\n      this.logout();\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import url(../assets/base.less);\n\nheader {\n  background-color: @bgColor;\n  padding-top: 18px;\n  padding-bottom: 18px;\n  display: grid;\n  grid: auto / 1fr 160px;\n  color: #fff;\n  h1 {\n    font-weight: bold;\n    text-align: left;\n  }\n}\n\nheader.nologin {\n  color: #fff;\n  .btns {\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n    a {\n        .el-button {\n        padding: 8px 10px;\n        font-size: 16px;\n            transition: .4s;\n        }\n    }\n    a:nth-child(1) {\n      .el-button {\n          padding:2px;\n        background: @bgColor;\n        color: #fff;\n        border: none;\n\n      }\n    }\n     a:nth-child(2) {\n      .el-button {\n        background: @bgColor;\n        color: #fff;\n        border: solid 1px #fff;\n      }\n    }\n    .el-button:nth-child(1):focus,\n    .el-button:nth-child(1):hover {\n      color: hsla(0, 0%, 100%, 0.75);\n    }\n  }\n}\nheader.login {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  h1 {\n    flex-grow: 1;\n  }\n  span {\n    color: #fff;\n  }\n  svg {\n    width: 18px;\n    height: 18px;\n    fill: aliceblue;\n    margin-right: 10px;\n  }\n  .user {\n    position: relative;\n    margin-right: 15px;\n     cursor: pointer;\n    img {\n      width: 36px;\n      height: 36px;\n      padding: 5px;\n      border-radius: 5px;\n    }\n\n    ul {\n      position: absolute;\n      z-index: 1;\n      display: none;\n      padding: 8px 0px;\n      width: 200%;\n      top: 100%;\n      right: -10px;\n      background: #fff;\n        border: 1px solid rgba(27,31,35,.15);\n        border-radius: 4px;\n        box-shadow: 0 3px 12px rgba(27,31,35,.15);\n      li {\n        color: #24292e;\n        padding: 4px 10px 4px 15px;\n      }\n      li:hover{\n        background: #0366d6;\n        color: #fff;\n        transition: .1;\n      }\n    }\n    ul::after{\n      content: '';\n      position: absolute;\n       width: 0px;\n    height: 0px;\n    border: solid transparent 6px;\n    border-bottom: solid #fff 6px;\n    left: 60%;\n    bottom:  100%;\n    }\n  }\n\n  .user::after{\n    content: '';\n    position: absolute;\n    width: 0px;\n    height: 0px;\n    border: solid transparent 4px;\n    border-top: solid #fff 4px;\n    left: 100%;\n    top: calc(50% - 2px);\n  }\n   .user:hover::after{\n     border-top: solid hsla(0,0%,100%,.7) 4px;\n   }\n   .user:hover{\n     ul{\n       display: block;\n     }\n   }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{class:{login:_vm.isLogin,nologin:!_vm.isLogin}},[(!_vm.isLogin)?[_c('h1',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Build better together\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_c('el-button',[_vm._v(\"Sign in\")])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/register\"}},[_c('el-button',[_vm._v(\"Sign up\")])],1)],1)]:_vm._e(),_vm._v(\" \"),(_vm.isLogin)?[_c('h1',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Build better together\")])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/create\"}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-zengjia\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('img',{attrs:{\"src\":_vm.user.avatar,\"alt\":_vm.user.username}}),_vm._v(\" \"),_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/my\"}},[_vm._v(\"我的\")])],1),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.onLogout}},[_vm._v(\"注销\")])])])])]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09b4a2cc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09b4a2cc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09b4a2cc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/header.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('p',[_vm._v(\"© 2019 Jiang OpenSource:\"),_c('a',{attrs:{\"href\":\"https://github.com/quietdw/vue-blog\"}},[_vm._v(\"GitHub\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/quietdw/vue-blog\"}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-github\"}})])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22617434\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/footer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22617434\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./footer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22617434\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./footer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22617434\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/footer.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Header id=\"header\"></Header>\n    <main id=\"main\">\n      <router-view/>\n    </main>\n    <Footer id=\"footer\"></Footer>\n  </div>\n</template>\n\n<script>\n/* eslint-disable no-new */\nimport Header from \"@/components/header.vue\"\nimport Footer from \"@/components/footer.vue\"\nexport default {\n  name: \"App\",\n  components: {\n    Header,\n    Footer\n  }\n}\n</script>\n\n<style lang='less'>\n@import \"./assets/common.less\";\n\n#app {\n  display: grid;\n  grid-template-columns: 12% auto 12%;\n  grid-template-rows: auto 1fr auto;\n  grid-template-areas:\n    \"header  header header\"\n    \".       main   .\"\n    \"footer footer footer\";\n  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#header {\n  grid-area: header;\n  padding-left: 12%;\n  padding-right: 2%;\n  text-align: center;\n}\n#main {\n  grid-area: main;\n}\n#footer {\n  grid-area: footer;\n  padding-left: 12%;\n  padding-right: 12%;\n}\n\n@media (max-width: 768px) {\n  #app {\n    grid-template-columns: 10px auto 10px;\n  }\n  #header,\n  #footer {\n    padding-left: 12%;\n    padding-right: 12%;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Header',{attrs:{\"id\":\"header\"}}),_vm._v(\" \"),_c('main',{attrs:{\"id\":\"main\"}},[_c('router-view')],1),_vm._v(\" \"),_c('Footer',{attrs:{\"id\":\"footer\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d9e6488\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d9e6488\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d9e6488\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n// import Index from '@/pages/Index/template.vue'\n// import User from '@/pages/User/template.vue'\n// import Register from '@/pages/Register/template.vue'\n// import Edit from '@/pages/Edit/template.vue'\n// import My from '@/pages/My/template.vue'\n// import Detail from '@/pages/Detail/template.vue'\n// import Create from '@/pages/Create/template.vue'\n// import Login from '@/pages/Login/template.vue'\nimport store from '@/store/'\n\nVue.use(Router)\n\n// const router = new Router({\n//   routes: [{\n//     path: '/',\n//     component: Index\n//   },\n//   {\n//     path: '/login',\n//     component: Login\n//   },\n//   {\n//     path: '/Register',\n//     component: Register\n//   },\n//   {\n//     path: '/Index',\n//     component: Index\n//   },\n//   {\n//     path: '/User',\n//     component: User\n//   },\n//   {\n//     path: '/Edit/:blogId',\n//     component: Edit,\n//     meta: {requiresAuth: true}\n//   },\n//   {\n//     path: '/My',\n//     component: My,\n//     meta: {requiresAuth: true}\n//   },\n//   {\n//     path: '/Detail/:blogId',\n//     component: Detail\n//   },\n//   {\n//     path: '/Create',\n//     component: Create,\n//     meta: {requiresAuth: true}\n//   }\n//   ]\n// })\n\nconst router = new Router({\n  routes: [{\n    path: '/',\n    component: () => import('@/pages/Index/template.vue') \n  },\n  {\n    path: '/login',\n    component: () => import('@/pages/Login/template.vue')\n  },\n  {\n    path: '/Register',\n    component: () => import('@/pages/Register/template.vue')\n  },\n  {\n    path: '/User/:userId',\n    component: () => import('@/pages/User/template.vue')\n  },\n  {\n    path: '/Edit/:blogId',\n    component: () => import('@/pages/Edit/template.vue'),\n    meta: {requiresAuth: true}\n  },\n  {\n    path: '/My',\n    component: () => import('@/pages/My/template.vue'),\n    meta: {requiresAuth: true}\n  },\n  {\n    path: '/Detail/:blogId',\n    component: () => import('@/pages/Detail/template.vue')\n  },\n  {\n    path: '/Create',\n    component: () => import('@/pages/Create/template.vue'),\n    meta: {requiresAuth: true}\n  }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // this route requires auth, check if logged in\n    // if not, redirect to login page.\n    store.dispatch('checkLogin').then((isLogin) => {\n      if (!isLogin) {\n        next({\n          path: '/login',\n          query: { redirect: to.fullPath }\n        })\n      } else {\n        next()\n      }\n    })\n  } else {\n    next() // 确保一定要调用 next()\n  }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function friendlyDate (timedata) {\r\n  let time = typeof timedata === 'object' ? timedata : new Date(timedata)\r\n  let now = new Date()\r\n  let str = ''\r\n\r\n  let delta = (now.getTime() - time.getTime()) / 60000\r\n\r\n  if (delta <= 3) {\r\n    str = '刚刚'\r\n  } else if (delta < 60 && delta >= 3) {\r\n    str = Math.floor(delta) + '分钟前'\r\n  } else if (delta < 1440 && delta >= 60) {\r\n    str = Math.floor(delta / 60) + '小时前'\r\n  } else {\r\n    str = Math.floor(delta / (60 * 24)) + '天前'\r\n  }\r\n  return str\r\n}\r\n\r\nfunction getDate (timedata, style) {\r\n  let time = typeof timedata === 'object' ? timedata : new Date(timedata)\r\n  if (style === 'year') {\r\n    return time.getFullYear()\r\n  } else if (style === 'month') {\r\n    return time.getMonth()+1\r\n  } else if (style === 'day') {\r\n    return time.getDate()\r\n  }\r\n}\r\n\r\nexport default {\r\n  install (Vue, options) {\r\n    Vue.prototype.friendlyDate = friendlyDate\r\n    Vue.prototype.getDate = getDate\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/utils.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n/* eslint-disable no-new */\nimport Vue from 'vue'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport utils from './helpers/utils'\n\nVue.config.productionTip = false\nVue.use(ElementUI)\nVue.use(utils)\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: {\n    App\n  },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import request from '@/helpers/request.js'\r\n\r\nconst URL = {\r\n  REGISTER: '/auth/register',\r\n  LOGIN: '/auth/login',\r\n  LOGOUT: '/auth/logout',\r\n  GET_INFO: '/auth'\r\n}\r\n\r\nexport default {\r\n  register ({\r\n    username,\r\n    password\r\n  }) {\r\n    return request(URL.REGISTER, 'POST', {\r\n      username,\r\n      password\r\n    }) // es6的写法\r\n  },\r\n  login ({\r\n    username,\r\n    password\r\n  }) {\r\n    return request(URL.LOGIN, 'POST', {\r\n      username,\r\n      password\r\n    })\r\n  },\r\n  logout () {\r\n    return request(URL.LOGOUT, 'GET')\r\n  },\r\n  getInfo () {\r\n    return request(URL.GET_INFO, 'GET')\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/auth.js","import axios from 'axios'\nimport {\n  Message\n} from 'element-ui'\n\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'\naxios.defaults.baseURL = 'https://blog-server.hunger-valley.com'\naxios.defaults.withCredentials = true\n\nexport default function request (url, type = 'GET', data = {}) {\n  return new Promise((resolve, reject) => {\n    let option = {\n      url,\n      method: type\n    }\n    if (type.toLocaleLowerCase() === 'get') {\n      option.params = data\n    } else {\n      option.data = data\n    }\n    axios(option).then(res => {\n      if (res.data.status === 'ok') {\n        resolve(res.data)\n      } else {\n        Message.error(res.data.msg)\n        reject(res.data)\n      }\n    }).catch((error) => {\n      Message.error('网络异常')\n      reject(error)\n    })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/request.js"],"sourceRoot":""}